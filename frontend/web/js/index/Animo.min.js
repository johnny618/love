/*!
* Animo JavaScript Library v1.0.0
* @author      : Rise Ledger
* @site        : http://riseledger.com
* @download    : https://github.com/RiseLedger/Animo
* @license     : Released under the MIT license
* @version     : 1.0.0 Official Release
* @copyright   : 2013
* @description : Use this library to animate the elements on page.
*/
function Animo(){rl=this;rl._addSupport();rl.opt=arguments;rl.len=arguments.length;rl._objInfo=new Array(rl.len);rl._globalInfo={delay:0,length:0,isDone:0};rl.vendor=rl._setVendor();rl._css3Transforms=["translate","translateX","translateY","translateZ","translate3d","scale","scaleX","scaleY","scaleZ","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY"];rl._specialProp=["color","background"];for(var e=0;e<rl.len;e++){rl._objInfo[e]={};rl._objInfo[e].isEnd=false;rl._objInfo[e].isDone=0;rl._objInfo[e].isObj=rl.opt[e].el.length==void 0?false:true;rl._objInfo[e].easing=rl.opt[e].easing||"linear";rl._objInfo[e].delay=rl.opt[e].delay||0;rl._objInfo[e].loop=rl.opt[e].loop||1;rl._objInfo[e].gap=rl.opt[e].gap||0;rl._objInfo[e].callback=rl.opt[e].callback||false;rl._objInfo[e].duration=rl.opt[e].duration||1e3;rl._objInfo[e].template=rl.opt[e].template;rl._objInfo[e].length=rl.opt[e].el.length||1;rl._objInfo[e].els=new Array(rl._objInfo[e].length);for(var t=0;t<rl._objInfo[e].length;t++){rl._objInfo[e].els[t]={};rl._objInfo[e].els[t].el=rl._objInfo[e].isObj?rl.opt[e].el[t]:rl.opt[e].el;if(t==0){rl._objInfo[e].els[t].startTime=(new Date).getTime()+rl._objInfo[e].delay}else{rl._objInfo[e].els[t].startTime=rl._objInfo[e].els[t-1].startTime+(rl._objInfo[e].duration+rl._getGap(rl._objInfo[e].duration,rl._objInfo[e].gap))}rl._objInfo[e].els[t].isEnd=false}if(e==0){rl._globalInfo.delay=rl._objInfo[e].delay}else{rl._globalInfo.delay=rl._globalInfo.delay<=rl._objInfo[e].delay?rl._globalInfo.delay:rl._objInfo[e].delay}rl._globalInfo.length+=rl._objInfo[e].length}rl._animo()}Animo.prototype={_animo:function(){function n(){var r=(new Date).getTime();for(var i=0;i<e.length;i++){for(var s=0;s<e[i].els.length;s++){if(r<e[i].els[s].startTime)continue;if(e[i].els[s].isEnd)continue;var o=r-e[i].els[s].startTime;var u=o/e[i].duration;if(u>1){u=1}if(u==1){var a=1}else var a=rl.Easing[e[i].easing](u,o,0,1,e[i].duration);var f=rl.getStyle(e[i].template,a);e[i].els[s].el.cssText!=void 0?e[i].els[s].el.style.cssText=f:e[i].els[s].el.setAttribute("style",f);if(u==1){e[i].els[s].isEnd=true;e[i].isDone++;t.isDone++;if(e[i].isDone==e[i].length){e[i].isEnd=true;if(e[i].callback)e[i].callback()}}}}t.isDone==t.length?_caf(n):_raf(n)}var e=rl._objInfo,t=rl._globalInfo;setTimeout(function(){_raf(n)},t.delay);},getStyle:function(e,t){var n="";var r=rl.vendor+"transform:";var i="";if(typeof Object.keys=="function"){Object.keys(e).forEach(function(r){var s=rl._buildStyle(e,r,n,i,t);n=s[0];i=s[1]})}else{for(var s in e){var o=rl._buildStyle(e,s,n,i,t);n=o[0];i=o[1]}}if(i.length>0){n+=r+i+";"}return n},_buildStyle:function(e,t,n,r,i){if(typeof e[t][0].length=="undefined"){var s=e[t][0],o=e[t][1],u=e[t][2]==void 0?"":e[t][2],a=(o-s)*i+s+u}else{var f=e[t][0].length;var l=f-1;var u=e[t][2]==void 0?"":e[t][2];var a="";var c="";if(t=="rotate3d"){var c=u;u=""}for(var h=0;h<f;h++){if(l==h)a+=(e[t][1][h]-e[t][0][h])*i+e[t][0][h]+u;else a+=(e[t][1][h]-e[t][0][h])*i+e[t][0][h]+u+","}if(t=="rotate3d"){a+=","+c}}if(rl._inArray(t,rl._css3Transforms)){r+=t+"("+a+") "}else if(rl._inArray(t,rl._specialProp)){switch(t){case"background":var p=rl._backgroundAnimo(e[t],i);n+="background-color:"+p+";";break;case"color":var d=rl._colorAnimo(e[t],i);n+="color:"+d+";";break}}else{n+=t+":"+a+";"}return[n,r]},_getGap:function(e,t){return e*t/100},_inArray:function(e,t){return t.indexOf(e)!=-1},_addSupport:function(){if(!("indexOf"in Array.prototype)){Array.prototype.indexOf=function(e,t){if(t===undefined)t=0;if(t<0)t+=this.length;if(t<0)t=0;for(var n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1}}},_getBrowser:function(){var e=navigator.appName,t=navigator.userAgent,n;var r=t.match(/(opera|chrome|safari|firefox|msie)\/?\s*(\.?\d+(\.\d+)*)/i);if(r&&(n=t.match(/version\/([\.\d]+)/i))!=null)r[2]=n[1];r=r?[r[1],r[2]]:[e,navigator.appVersion,"-?"];return r},_setVendor:function(){var e="";var t=rl._getBrowser();switch(t[0]){case"Chrome":e="-webkit-";break;case"MSIE":e=t[1]==9?"-ms-":"";break;default:e="";break}return e},_toRgb:function(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?[parseInt(n[1],16),parseInt(n[2],16),parseInt(n[3],16)]:null},_colorAnimo:function(e,t){var n=typeof e[0]=="string"?rl._toRgb(e[0]):e[0],r=typeof e[1]=="string"?rl._toRgb(e[1]):e[1];return"rgb("+Math.max(Math.min(parseInt(t*(r[0]-n[0])+n[0],10),255),0)+","+Math.max(Math.min(parseInt(t*(r[1]-n[1])+n[1],10),255),0)+","+Math.max(Math.min(parseInt(t*(r[2]-n[2])+n[2],10),255),0)+")"},_backgroundAnimo:function(e,t){var n=typeof e[0]=="string"?rl._toRgb(e[0]):e[0],r=typeof e[1]=="string"?rl._toRgb(e[1]):e[1];return"rgb("+Math.max(Math.min(parseInt(t*(r[0]-n[0])+n[0],10),255),0)+","+Math.max(Math.min(parseInt(t*(r[1]-n[1])+n[1],10),255),0)+","+Math.max(Math.min(parseInt(t*(r[2]-n[2])+n[2],10),255),0)+")"},Easing:{linear:function(e,t,n,r,i){return n+r*e},swing:function(e,t,n,r,i){return(-Math.cos(e*Math.PI)/2+.5)*r+n},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t+n;return-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t+n;return r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t+n;return-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){if((t/=i/2)<1)return r/2*t*t*t*t*t+n;return r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t==0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t==i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){if(t==0)return n;if(t==i)return n+r;if((t/=i/2)<1)return r/2*Math.pow(2,10*(t-1))+n;return r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){if((t/=i/2)<1)return-r/2*(Math.sqrt(1-t*t)-1)+n;return r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var e=1.70158,s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o);return-(o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s))+n},easeOutElastic:function(e,t,n,r,i){var e=1.70158,s=0,o=r;if(t==0)return n;if((t/=i)==1)return n+r;s||(s=i*.3);o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o);return o*Math.pow(2,-10*t)*Math.sin((t*i-e)*2*Math.PI/s)+r+n},easeInOutElastic:function(e,t,n,r,i){var e=1.70158,s=0,o=r;if(t==0)return n;if((t/=i/2)==2)return n+r;s||(s=i*.3*1.5);o<Math.abs(r)?(o=r,e=s/4):e=s/(2*Math.PI)*Math.asin(r/o);if(t<1)return-.5*o*Math.pow(2,10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)+n;return o*Math.pow(2,-10*(t-=1))*Math.sin((t*i-e)*2*Math.PI/s)*.5+r+n},easeInBack:function(e,t,n,r,i){var s=1.70158;return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i){var s=1.70158;return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i){var s=1.70158;if((t/=i/2)<1)return r/2*t*t*(((s*=1.525)+1)*t-s)+n;return r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(e,t,n,r,i){return r-this.easeOutBounce(e,i-t,0,r,i)+n},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,r,i){if(t<i/2)return this.easeInBounce(e,t*2,0,r,i)*.5+n;return this.easeOutBounce(e,t*2-i,0,r,i)*.5+r*.5+n}}};var animo={Template:{}};var _raf=window.requestAnimationFrame,_caf=window.cancelAnimationFrame,_p=["webkit","moz","ms","o"];var i=_p.length;while(--i>-1&&!_raf){_raf=window[_p[i]+"RequestAnimationFrame"];_caf=window[_p[i]+"CancelAnimationFrame"]||window[_p[i]+"CancelRequestAnimationFrame"]}if(!_raf){_raf=function(){return function(e){window.setTimeout(e,1e3/60)}}();_caf=function(e){clearTimeout(e)}}
